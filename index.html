<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Rofi POS</title>
<style>
body {
  font-family: Arial, sans-serif;
  background-color: #222;
  color: #000;
  padding: 10px;
}

h1 { text-align:center; color:#000; margin-bottom:20px; }

.div-button {
  display: block;
  width: 100px;
  height: 80px;
  line-height: 80px;
  background-color: #ccc;
  border: 1px solid #999;
  text-align: center;
  font-weight: bold;
  margin: 5px;
  cursor: pointer;
  user-select: none;
}

.div-button:hover { background-color: #aaa; }

#tables, #categories, #items {
  margin-bottom: 20px;
}

.pay {
  width: 150px;
  height: 80px;
  line-height: 80px;
  background-color: #ccc;
  border: 1px solid #999;
  text-align: center;
  font-weight: bold;
  cursor: pointer;
  margin-top: 20px;
}

.pay:hover { background-color: #aaa; }
</style>
</head>
<body>

<h1>Rofi POS</h1>

<!-- Tables -->
<div id="tables"></div>

<!-- Categories -->
<div id="categories"></div>

<!-- Items -->
<div id="items"></div>

<h2>Current Order</h2>
<div id="order"></div>

<div class="pay" onclick="payTable()">Pay</div>

<script>
// Tables
const tableNames = ["140","141","B1","B2","142","143","130","131","B3","B4","132","133","120","121","122","123","124","125","110","111","B5","B6","112","113"];
const tablesDiv = document.getElementById("tables");
let selectedTable = null;
const orders = {};

// Create tables
tableNames.forEach(t => {
  orders[t] = [];
  const div = document.createElement("div");
  div.className = "div-button";
  div.innerText = t;
  div.setAttribute("onclick", `selectTable('${t}')`);
  tablesDiv.appendChild(div);
});

// Select table
function selectTable(name){
  selectedTable = name;
  updateTables();
  renderOrder();
}

function updateTables(){
  const divs = tablesDiv.children;
  for(let div of divs){
    div.style.backgroundColor = orders[div.innerText].length>0 ? "#888" : "#ccc";
    if(div.innerText === selectedTable) div.style.backgroundColor = "#aaa";
  }
}

// Categories
const categories = ["Breakfast","Lunch","Desserts","Beverages","Specialty"];
const categoriesDiv = document.getElementById("categories");
let selectedCategory = categories[0];
categories.forEach(cat=>{
  const div = document.createElement("div");
  div.className = "div-button";
  div.innerText = cat;
  div.setAttribute("onclick", `selectCategory('${cat}')`);
  categoriesDiv.appendChild(div);
});

function selectCategory(cat){
  selectedCategory = cat;
  updateCategory();
  renderItems();
}

function updateCategory(){
  const divs = categoriesDiv.children;
  for(let div of divs){
    div.style.backgroundColor = div.innerText===selectedCategory ? "#aaa" : "#ccc";
  }
}

// Items
const items = [
{category:"Breakfast", name:"French Toast", price:11.00},
{category:"Breakfast", name:"Fried Eggs", price:11.00},
{category:"Breakfast", name:"Bacon", price:11.00},
{category:"Breakfast", name:"Pancakes", price:11.00},
{category:"Breakfast", name:"Bagels", price:11.00},
{category:"Lunch", name:"D's Burger", price:15.00},
{category:"Lunch", name:"French Fries", price:15.00},
{category:"Lunch", name:"Mac N' Cheese", price:15.00},
{category:"Lunch", name:"Grilled Cheese", price:15.00},
{category:"Desserts", name:"Apple Pie", price:9.00},
{category:"Desserts", name:"Pecan Pie", price:9.00},
{category:"Desserts", name:"Pumpkin Pie", price:9.00},
{category:"Desserts", name:"Doughnut", price:9.00},
{category:"Desserts", name:"Muffin", price:9.00},
{category:"Desserts", name:"Ice Cream", price:9.00},
{category:"Desserts", name:"Chocolate Chip Cookie", price:9.00},
{category:"Desserts", name:"Pumpkin Cookie", price:9.00},
{category:"Beverages", name:"Water", price:0.00},
{category:"Beverages", name:"Coffee", price:9.00},
{category:"Beverages", name:"Vanilla Milkshake", price:9.00},
{category:"Beverages", name:"Hot Chocolate", price:9.00},
{category:"Beverages", name:"D's Soda", price:9.00},
{category:"Specialty", name:"Steak", price:38.00}
];

const itemsDiv = document.getElementById("items");

function renderItems(){
  itemsDiv.innerHTML = "";
  items.filter(i=>i.category===selectedCategory).forEach(i=>{
    const div = document.createElement("div");
    div.className = "div-button";
    div.innerText = i.name + "\n$" + i.price.toFixed(2);
    div.setAttribute("onclick", `addItem('${i.name}',${i.price})`);
    itemsDiv.appendChild(div);
  });
}

// Order
const orderDiv = document.getElementById("order");
function addItem(name, price){
  if(!selectedTable) return alert("Select a table first");
  const tableOrder = orders[selectedTable];
  const existing = tableOrder.find(o=>o.name===name);
  if(existing) existing.qty++;
  else tableOrder.push({name:name, price:price, qty:1});
  renderOrder();
  updateTables();
}

function renderOrder(){
  orderDiv.innerHTML = "";
  if(!selectedTable) return;
  const tableOrder = orders[selectedTable];
  let total = 0;
  tableOrder.forEach((o,idx)=>{
    const div = document.createElement("div");
    div.innerText = `${o.name} x${o.qty} $${(o.price*o.qty).toFixed(2)}`;
    const remove = document.createElement("span");
    remove.innerText = " [X]";
    remove.style.cursor = "pointer";
    remove.setAttribute("onclick", `removeItem(${idx})`);
    div.appendChild(remove);
    orderDiv.appendChild(div);
    total += o.price*o.qty;
  });
  const totalDiv = document.createElement("div");
  totalDiv.innerText = "Total: $" + total.toFixed(2);
  orderDiv.appendChild(totalDiv);
}

function removeItem(idx){
  orders[selectedTable].splice(idx,1);
  renderOrder();
  updateTables();
}

function payTable(){
  if(!selectedTable) return;
  orders[selectedTable]=[];
  renderOrder();
  updateTables();
}

// Init
selectCategory(selectedCategory);
renderItems();
</script>

</body>
</html>
